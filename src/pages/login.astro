---
export const prerender = false

import Layout from "../layouts/MainLayout.astro"
import { LoginForm } from "../components/auth/LoginForm"
import { isAuthenticated } from "../lib/auth/index"

// Check if user is already authenticated
const authenticated = await isAuthenticated()

// Redirect authenticated users to their card page
if (authenticated) {
  return Astro.redirect("/card")
}
---

<Layout title="Logowanie - Cultura">
  <div class="container mx-auto py-8">
    <LoginForm client:load />
  </div>
</Layout>
